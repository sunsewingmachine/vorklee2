# ============================================================================
# Vorklee2 Notes App - Environment Configuration
# V5 Specification
# ============================================================================

# ============================================================================
# Database (Neon PostgreSQL)
# ============================================================================
# Neon Project: vorklee-notes-prod
# Database branch: main (production) or dev (development)
DATABASE_URL_NOTES=postgresql://user:password@ep-xxx-xxx.us-east-2.aws.neon.tech/vorklee_notes?sslmode=require

# ============================================================================
# Core Platform Integration
# ============================================================================
# URL to Core Platform API for authentication and shared services
CORE_API_URL=http://localhost:3000/api/core

# Core Identity JWT verification
# Public key for JWT verification (provided by Core Identity service)
CORE_IDENTITY_PUBLIC_KEY=

# ============================================================================
# Redis Cache
# ============================================================================
# Redis connection for caching note lists, search results, and sessions
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ============================================================================
# File Storage (S3/Cloudflare R2)
# ============================================================================
# Storage for file attachments
S3_BUCKET_NAME=vorklee-attachments-prod
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_ENDPOINT= # Optional: For Cloudflare R2 or MinIO

# ============================================================================
# Virus Scanning
# ============================================================================
# VirusTotal API for file scanning
VIRUSTOTAL_API_KEY=

# ============================================================================
# WebSocket (Real-time Collaboration)
# ============================================================================
# WebSocket server configuration
WS_PORT=3002
WS_PATH=/ws

# ============================================================================
# App Configuration
# ============================================================================
# Public URL of the Notes app
NEXT_PUBLIC_APP_URL=http://localhost:3001

# App environment
NODE_ENV=development

# Port for Next.js development server
PORT=3001

# ============================================================================
# Analytics & Events
# ============================================================================
# Event bus for platform analytics (Kafka/RabbitMQ)
EVENT_BUS_URL=
EVENT_BUS_TOPIC=notes.events

# ============================================================================
# Security
# ============================================================================
# JWT secret for session tokens (should match Core Platform)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Session cookie settings
SESSION_COOKIE_NAME=vorklee.notes.session
SESSION_COOKIE_MAX_AGE=604800 # 7 days in seconds

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# Rate Limiting
# ============================================================================
# Requests per minute per user/IP
RATE_LIMIT_POINTS=100
RATE_LIMIT_DURATION=60

# ============================================================================
# Feature Flags
# ============================================================================
# Enable/disable features
FEATURE_REALTIME_COLLABORATION=true
FEATURE_AI_SUMMARIES=false
FEATURE_VECTOR_SEARCH=false
FEATURE_VIRUS_SCANNING=true

# ============================================================================
# Logging & Monitoring
# ============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# ============================================================================
# Development & Testing
# ============================================================================
# Skip authentication for development (DO NOT USE IN PRODUCTION)
DEV_SKIP_AUTH=false

# Mock user for development testing
DEV_USER_ID=
DEV_ORG_ID=
